;;; -*- mode : lisp -*-
(in-package staticl-user)

(asdf:load-system "staticl/format/spinneret")


(site "Example Static Site"
      :description "Just an example of the static file generated by StatiCL."
      :url "https://example.com/"
      :navigation (menu (item "Blog (EN)" "/blog/")
                        (item "Blog (RU)" "/ru/blog/")
                        (item "About" "/about.html"))
      :pipeline (list (load-content)
                      (filter (:path "ru/")
                              (prev-next-links)
                              (paginated-index :target-path #P"ru/blog/"
                                               :page-title-fn (lambda (num)
                                                                (fmt "Страница ~A" num)))
                              (rss :target-path #P"ru/blog/rss.xml")
                              (atom :target-path #P"ru/blog/atom.xml"))
                      (filter (:path "ru/" :invert t)
                              (prev-next-links)
                              (paginated-index :target-path #P"blog/")
                              (rss :target-path #P"blog/rss.xml")
                              (atom :target-path #P"blog/atom.xml"))
                      (sitemap)
                      ;; (rsync "my-site")
                      ))
